# ============================================================
# ERP PRECIFICAÇÃO - Configurações da Aplicação
# ============================================================

# IDENTIFICAÇÃO DA APLICAÇÃO
spring.application.name=erp-precificacao
server.port=8080
server.servlet.context-path=/

# ============================================================
# BANCO DE DADOS - H2 (Desenvolvimento)
# ============================================================
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Console H2 para testes
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ============================================================
# JPA / HIBERNATE
# ============================================================
# create-drop: Cria as tabelas no início e as deleta no final (dev)
# update: Atualiza as tabelas existentes (recomendado para dev contínuo)
# validate: Valida o schema sem fazer alterações (produção)
spring.jpa.hibernate.ddl-auto=create-drop

# Mostra SQL no console
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Inicializar dados de teste
spring.jpa.defer-datasource-initialization=true

# ============================================================
# LOGGING
# ============================================================
# Logs de hibernate
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Logs gerais
logging.level.root=INFO
logging.level.com.projeto=DEBUG

# Formato do log
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/erp.log

# ============================================================
# SPRING DEVTOOLS
# ============================================================
spring.devtools.add-properties=true
spring.devtools.restart.enabled=true

# ============================================================
# CODIFICAÇÃO
# ============================================================
spring.mandatoryFileEncoding=UTF-8
file.encoding=UTF-8
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# ============================================================
# JACKSON - JSON
# ============================================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.indent-output=true
spring.jackson.time-zone=America/Sao_Paulo
spring.jackson.locale=pt_BR

# ============================================================
# VALIDAÇÃO
# ============================================================
spring.validation.enabled=true

# ============================================================
# CACHE (opcional, para futuro)
# ============================================================
# spring.cache.type=redis
# spring.redis.host=localhost
# spring.redis.port=6379

# ============================================================
# SECURITY (opcional, descomente quando implementar autenticação)
# ============================================================
# spring.security.user.name=admin
# spring.security.user.password=admin123
